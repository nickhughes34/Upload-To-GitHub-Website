{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Nicholas Hughes/Desktop/Website/React/stock_app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Nicholas Hughes/Desktop/Website/React/stock_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import InputGroup from'react-bootstrap/InputGroup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search(_ref){var setTop10=_ref.setTop10,top10=_ref.top10,setFinalSearch=_ref.setFinalSearch;var resultsRef=React.useRef(null);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),currentSearch=_useState2[0],setCurrentSearch=_useState2[1];var searchResults=[\"\"];function getResults(){var temp=resultsRef.current.value.toUpperCase();if(temp!==\"\"){if(temp.length>=1){if(top10.includes(temp)===false){if(top10.length<=9){setTop10(function(top10){return[temp].concat(_toConsumableArray(top10));});}if(top10.length>=10){top10.pop();setTop10(function(top10){return[temp].concat(_toConsumableArray(top10));});}}setFinalSearch(temp);}}resultsRef.current.value=\"\";setCurrentSearch(\"\");}function setCurrent(){setCurrentSearch(resultsRef.current.value);}function setResults(item){//resultsRef.current.value = item;\n//setCurrentSearch(resultsRef.current.value);\nitem=item.toUpperCase();resultsRef.current.value=\"\";setCurrentSearch(\"\");setFinalSearch(item);if(top10.includes(item)===false){if(top10.length<=4){setTop10(function(top10){return[item].concat(_toConsumableArray(top10));});}if(top10.length>=5){top10.pop();setTop10(function(top10){return[item].concat(_toConsumableArray(top10));});}}}return/*#__PURE__*/_jsxs(Form,{className:\"\",onSubmit:function onSubmit(e){e.preventDefault();getResults();},children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Search Stock\"}),/*#__PURE__*/_jsxs(InputGroup,{className:\"\",controlid:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter stock\",ref:resultsRef,onChange:setCurrent,style:{textTransform:\"uppercase\",borderRadius:\"0px\"}}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){getResults();},style:{borderRadius:\"0px\"},children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"customDropdown\",children:searchResults.filter(function(item){var searchTerm=currentSearch.toLowerCase();var fullName=item.toLowerCase();return searchTerm&&fullName.startsWith(searchTerm)&&fullName!==searchTerm;}).slice(0,10).map(function(item){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){setResults(item);},className:\"dropdown-row\",children:item},item);})})]});}export default Search;","map":{"version":3,"sources":["C:/Users/Nicholas Hughes/Desktop/Website/React/stock_app/src/components/Search.js"],"names":["React","useState","Button","Form","InputGroup","Search","setTop10","top10","setFinalSearch","resultsRef","useRef","currentSearch","setCurrentSearch","searchResults","getResults","temp","current","value","toUpperCase","length","includes","pop","setCurrent","setResults","item","e","preventDefault","textTransform","borderRadius","filter","searchTerm","toLowerCase","fullName","startsWith","slice","map"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\r\n\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\n\r\nfunction Search( {setTop10, top10, setFinalSearch} ) {\r\n  const resultsRef = React.useRef(null);\r\n  const [currentSearch, setCurrentSearch] = useState(\"\");\r\n\r\n  const searchResults = [\"\"]\r\n\r\n  function getResults(){\r\n    let temp = resultsRef.current.value.toUpperCase();\r\n\r\n    if (temp !== \"\"){\r\n      if (temp.length >= 1){\r\n        if (top10.includes(temp) === false){\r\n\r\n          if (top10.length <= 9){\r\n            setTop10( top10 => [temp, ...top10]);\r\n          }\r\n\r\n          if (top10.length >= 10){\r\n            top10.pop()\r\n            setTop10( top10 => [temp, ...top10]);\r\n          }\r\n\r\n        }\r\n        setFinalSearch(temp);\r\n      }\r\n    }\r\n\r\n    resultsRef.current.value = \"\";\r\n    setCurrentSearch(\"\");\r\n  }\r\n\r\n  function setCurrent(){\r\n    setCurrentSearch(resultsRef.current.value);\r\n  }\r\n\r\n  function setResults(item) {\r\n    //resultsRef.current.value = item;\r\n    //setCurrentSearch(resultsRef.current.value);\r\n    item = item.toUpperCase();\r\n    resultsRef.current.value = \"\";\r\n    setCurrentSearch(\"\");\r\n    setFinalSearch(item);\r\n\r\n    if (top10.includes(item) === false){\r\n\r\n      if (top10.length <= 4){\r\n        setTop10( top10 => [item, ...top10]);\r\n      }\r\n\r\n      if (top10.length >= 5){\r\n        top10.pop()\r\n        setTop10( top10 => [item, ...top10]);\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <Form className='' onSubmit={e => { e.preventDefault(); getResults();}}>\r\n      <Form.Label>Search Stock</Form.Label>\r\n      <InputGroup className=\"\" controlid=\"formBasicEmail\">\r\n        <Form.Control type=\"text\" placeholder=\"Enter stock\" ref={resultsRef} onChange = {setCurrent} style={{textTransform: \"uppercase\", borderRadius: \"0px\"}} />\r\n        <Button variant=\"secondary\" onClick = {() => {getResults();}} style={{borderRadius: \"0px\"}}>\r\n          Search\r\n        </Button>\r\n      </InputGroup>\r\n\r\n      {/* https://www.youtube.com/watch?v=Jd7s7egjt30&ab_channel=ProgrammingwithMasoud */}\r\n      <div className=\"customDropdown\">\r\n          {searchResults\r\n            .filter((item) => {\r\n              const searchTerm = currentSearch.toLowerCase();\r\n              const fullName = item.toLowerCase();\r\n\r\n              return (\r\n                searchTerm &&\r\n                fullName.startsWith(searchTerm) &&\r\n                fullName !== searchTerm\r\n              );\r\n            })\r\n            .slice(0, 10)\r\n            .map((item) => (\r\n              <div onClick={() => {setResults(item);}} className=\"dropdown-row\" key={item}>\r\n                {item}\r\n              </div>\r\n            ))}\r\n        </div>\r\n\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}